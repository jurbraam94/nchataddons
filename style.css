/* ===== Unified 321ChatAddons panel ===== */
.ca-panel {
    display: flex;
    flex-direction: column;
    border: 2px solid #2b90ff;
    border-radius: 12px;
    background: #0b1220;
    box-shadow: 0 8px 28px rgba(0, 0, 0, .5);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color: #e5e7eb;
    /* Height set by JavaScript based on chat_right */
}

.ca-header {
    display: flex;
    align-items: center;
    padding: 10px 12px;
    background: #f7fbff;
    border-bottom: 1px solid #dbeafe;
    font-weight: 700;
    font-size: 14px;
}

#right-panel .ca-body {
    padding-left: 12px;
    padding-right: 12px;
    display: flex;
    flex-direction: column;
    gap: 14px;
    flex: 1 1 auto;
    overflow: hidden;
}

.ca-section-title {
    display: flex;
    gap: 8px;
    font-weight: 700;
    font-size: 13px;
    color: #ffffff;
    justify-content: space-between;
}

.ca-section-title .clear-logs {
    font-size: 12px;
    color: #9E9E9E;
}

.ca-row {
    display: flex;
    gap: 8px;
    align-items: center;
}

/* Section layout variants */
.ca-section {
    display: flex;
    flex-direction: column;
    flex: 0 0 auto;
}

.ca-section-compact {
    flex: 0 0 auto;
}

/* Used for the “Received Messages” section wrapper (replaces inline flex + min-height:0) */
.ca-section-expand {
    flex: 1 1 0;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

/* Top nav for tools */
.ca-nav {
    display: flex;
    gap: 8px;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 6px;
}

.ca-nav-btn {
    padding: 6px 10px;
    border-radius: 8px;
    border: 1px solid #334155;
    background: #0f172a;
    color: #e5e7eb;
    font-weight: 600;
    cursor: pointer;
}

.ca-nav-btn:hover {
    background: #111827;
}

/* Draggable popup */
.ca-pop {
    position: fixed;
    top: 18vh;
    left: 50%;
    transform: translateX(-50%);
    width: 520px;
    max-width: 96vw;
    background: #0b1220;
    border: 2px solid #2b90ff;
    border-radius: 12px;
    box-shadow: 0 12px 40px rgba(8, 30, 70, .6);
    z-index: 2147483647;
}

.ca-pop-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 10px;
    cursor: move;
    background: #0f172a;
    border-bottom: 1px solid #334155;
    font-weight: 700;
    color: #ffffff;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
}

.ca-pop-close {
    appearance: none;
    border: 0;
    background: transparent;
    font-size: 16px;
    line-height: 1;
    padding: 4px 6px;
    cursor: pointer;
    color: #93c5fd;
}

.ca-pop-body {
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.ca-pop-actions {
    margin-top: 6px;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 10px;
}

/* Popup-specific widgets: ensure consistent colors and rounded inputs */
.ca-pop input[type="text"], .ca-pop textarea {
    font-size: 14px;
    line-height: 1.3;
    border: 1px solid #334155;
    border-radius: 10px;
    background: #0f172a;
    color: #e5e7eb;
}

.ca-pop input[type="text"] {
    padding: 8px 10px;
    width: 100%;
}

.ca-pop textarea {
    padding: 10px;
    width: 100%;
    resize: vertical;
}

.ca-pop textarea.ca-8 {
    min-height: calc(5 * 1.3em + 20px);
}

/* Accent button in popup: match standard .ca-btn styling */
.ca-pop .ca-btn {
    border: 1px solid #334155;
    background: linear-gradient(#1f2937, #111827);
    color: #e5e7eb;
}

.ca-pop .ca-btn:hover {
    background: linear-gradient(#192231, #0e1420);
}

/* Ensure popup action buttons (send, broadcast, etc.) match .ca-btn styling; keep reset as anchor */
.ca-pop button:not(.ca-pop-close),
.ca-pop input[type="button"],
.ca-pop input[type="submit"],
.ca-pop .ca-pop-actions a {
    appearance: button;
    -webkit-appearance: button;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 10px 16px;
    border-radius: 10px;
    border: 1px solid #334155;
    background: linear-gradient(#1f2937, #111827);
    color: #e5e7eb;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
}

.ca-pop button:not(.ca-pop-close):hover,
.ca-pop input[type="button"]:hover,
.ca-pop input[type="submit"]:hover,
.ca-pop .ca-pop-actions a:hover {
    background: linear-gradient(#192231, #0e1420);
    color: #e5e7eb;
}

.ca-pop button[disabled],
.ca-pop input[type="button"][disabled],
.ca-pop input[type="submit"][disabled] {
    opacity: .6;
    cursor: not-allowed;
}

/* Popup Reset tracking stays an anchor: bold + white, inline with Send */
.ca-pop .ca-reset-link,
.ca-pop .ca-reset {
    background: transparent;
    border: none;
    padding: 0;
    margin-left: 0;
    color: #ffffff;
    font-weight: 700;
    text-decoration: underline;
    display: inline;
    cursor: pointer;
}

.ca-pop .ca-reset-link:hover,
.ca-pop .ca-reset:hover {
    color: #ffffff;
    text-decoration: underline;
}

/* Inputs/buttons */
.ca-panel input[type="text"], .ca-panel textarea {
    font-size: 14px;
    line-height: 1.3;
    border: 1px solid #334155;
    border-radius: 10px;
    background: #0f172a;
    color: #e5e7eb;
}

.ca-panel input[type="text"] {
    padding: 8px 10px;
    flex: 1;
}

.ca-panel textarea {
    padding: 10px;
    width: 100%;
    resize: vertical;
}

.ca-panel textarea.ca-8 {
    min-height: calc(3 * 1.3em + 20px);
}

/* Slim input helper for compact fields (e.g., username) */
.ca-panel .ca-input-slim {
    font-size: 13px;
    padding: 6px 8px;
}

/* Ensure a little space between username input and Send button */
#ca-specific-username {
    margin-right: 8px;
}

/* Row spacing */
.ca-section .ca-row + textarea {
    margin-top: 8px;
}

.ca-row + .ca-row {
    margin-top: 8px;
}

/* Float Send buttons to the right */
#ca-specific-send, #ca-bc-send {
    margin-left: auto;
}

.ca-controls {
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap;
}

.ca-btn {
    appearance: button;
    -webkit-appearance: button;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 10px 16px;
    border-radius: 10px;
    border: 1px solid #334155;
    background: linear-gradient(#1f2937, #111827);
    color: #e5e7eb;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
}

.ca-btn:hover {
    background: linear-gradient(#192231, #0e1420);
}

.ca-btn[disabled] {
    opacity: .6;
    cursor: not-allowed;
}

.ca-btn-slim {
    padding: 6px 12px;
    font-weight: 600;
}

/* Extra small button for compact actions like Clear */
.ca-btn-xs {
    padding: 4px 8px;
    font-weight: 600;
    font-size: 12px;
    border-radius: 8px;
}

.ca-status {
    font-size: 12px;
    color: #cbd5e1;
    min-height: 18px;
}

/* moved from inline */
.ca-reset {
    margin-left: auto;
    background: transparent;
    border: none;
    padding: 6px 8px;
    color: #ffffff;
    font-weight: 700;
    text-decoration: underline;
    cursor: pointer;
    font-size: 12px;
}

/* Anchor look for Reset tracking in headers */
.ca-reset-link {
    margin-left: auto;
    background: transparent;
    border: none;
    padding: 0;
    color: #ffffff;
    font-weight: 700;
    text-decoration: underline;
    cursor: pointer;
    font-size: 12px;
}

.ca-reset-link:hover {
    color: #ffffff;
}

/* Divider */
.ca-divider {
    height: 1px;
    background: #e6eefc;
    margin: 4px 0 2px 0;
    border: 0;
}

/* ===== Checkboxes on user list (right side) ===== */
.user_item {
    position: relative;
}

.user_item_icon.icrank {
    display: none;
}

.user_item_data {
    width: 100%;
}

.user_item.ca-replied-messages {
    box-shadow: inset 0 0 0 2px rgba(49, 217, 102, 0.2);
    border-radius: 8px;
}

.user_item.ca-unread-messages {
    box-shadow: inset 0 0 0 2px rgba(255, 0, 7, 0.2);
    border-radius: 8px;
}

.ca-ck-wrap {
    z-index: 2;
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 0;
    background: transparent;
    backdrop-filter: none;
    pointer-events: none; /* don't block profile/item clicks; checkbox re-enables its own */
}

.ca-ck-wrap .ca-ck {
    width: 10px;
    height: 10px;
    cursor: pointer;
    pointer-events: auto;
    accent-color: #93c5fd;
}

/* Already messaged checkmark (non-interactive) */
.user_item .ca-sent-chip {
    position: absolute;
    left: 35px;
    z-index: 2;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 13px;
    height: 13px;
    border-radius: 4px;
    pointer-events: none; /* never intercept clicks */
}

/* Already messaged checkmark (non-interactive) */
.user_item .ca-sent-chip.ca-sent-chip-all-read {
    background: #22c55e;
    color: #073b16;
    font-size: 12px;
    font-weight: 900;
    line-height: 1;
}

/* Already messaged checkmark (non-interactive) */
.user_item .ca-sent-chip.ca-sent-chip-unread {
    background: #c52222;
    color: #073b16;
    font-size: 12px;
    font-weight: 900;
    line-height: 1;
}

/* Hide non-females (JS toggles this class as backup) */
.user_item.ca-hidden {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
}

/* Hide users with our custom addon hidden attribute - won't trigger observer */
.user_item[data-ca-addon-hidden] {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
}

/* Collapsible user list containers */
.ca-user-list-container {
    display: flex;
    flex-direction: column;
    border: 1px solid #334155;
    border-radius: 8px;
    transition: all 0.3s ease;
}

/* When both containers are expanded, each takes 50% */
.ca-user-list-container.ca-expanded {
    flex: 1 1 50%;
}

/* When collapsed, minimal height */
.ca-user-list-container.ca-collapsed {
    flex: 0 0 auto;
    max-height: 45px;
}

/* Collapsible header with toggle button */
.ca-user-list-header {
    padding: 10px 12px 8px 8px;
    background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
    border-radius: 8px 8px 0 0;
    cursor: pointer;
    user-select: none;
    transition: background 0.2s;

    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 2px; /* small gap between rows */
}

.ca-user-list-header:hover {
    background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
}

.ca-user-list-header.ca-female-header {
    background: linear-gradient(135deg, #8bc34a 0%, #4caf50 100%);
}

.ca-user-list-header.ca-female-header:hover {
    background: linear-gradient(135deg, #9ccc65 0%, #66bb6a 100%);
}

.ca-user-list-title {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #fff;
    font-weight: bold;
    font-size: 14px;
}

.ca-user-list-count {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
    padding: 0 8px;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.2);
    color: #fff;
    font-size: 12px;
    font-weight: bold;
}

.ca-user-list-toggle {
    margin-left: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.1);
    color: #fff;
    font-size: 16px;
    transition: transform 0.3s ease, background 0.2s;
}

.ca-user-list-toggle:hover {
    background: rgba(255, 255, 255, 0.2);
}

.ca-collapsed .ca-user-list-toggle {
    transform: rotate(-90deg);
}

/* List content area */
.ca-user-list-content {
    transition: all 0.3s ease;
}

.ca-collapsed .ca-user-list-content {
    display: none;
}

/* Managed female users container */
#ca-managed-users {
    padding: 0;
    border: none;
    margin-bottom: 0;
}

/* Host container wrapper for male users */
#ca-host-users-wrapper {
    display: flex;
    flex-direction: column;
    border: 1px solid #334155;
    border-radius: 8px;
    margin-bottom: 10px;
}

#ca-host-users-wrapper.ca-expanded {
    flex: 1 1 50%;
}

#ca-host-users-wrapper.ca-collapsed {
    flex: 0 0 auto;
    max-height: 45px;
}

/* ===== Activity Log ===== */
.ca-log-section {
    display: flex;
    flex-direction: column;
    gap: 8px;
    flex: 0 0 auto;
}

.ca-logs {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

/* Presence log section stays at bottom with fixed height */
.ca-section.ca-log-section {
    margin-top: 0;
    flex: 0 0 auto;
}

.ca-hidden {
    display: none !important;
}

.ca-log-title {
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: space-between;
}

.ca-log-controls {
    display: flex;
    gap: 10px;
    align-items: center;
    justify-content: flex-end;
}

/* Bottom placement variant to prevent layout jumps */
.ca-log-controls-bottom {
    margin-top: 4px;
    display: flex;
    gap: 10px;
    align-items: center;
    justify-content: flex-start;
    flex-wrap: wrap;
}

.ca-log-controls input[type="checkbox"] {
    accent-color: #93c5fd;
}

.ca-log-ctl {
    font-size: 12px;
    color: #e5e7eb;
    display: inline-flex;
    gap: 6px;
    align-items: center;
}

.ca-log-box {
    height: 100%;
    border: 1px solid #334155;
    border-radius: 10px;
    background: #0f172a;
    color: #e5e7eb;
    overflow-y: auto;
    padding: 8px;
    display: flex;
    flex-direction: column; /* normal flow, newest at bottom */
    gap: 6px;
    font-size: 12px;
    line-height: 1.35;
}

/* Variants: compact for sent, expand for received */
.ca-log-box-compact {
    max-height: 120px;
    min-height: 80px;
    flex: 0 0 auto;
    overflow-y: auto;
}

/* Replaces inline style on received box: allow it to grow and shrink within flex column */
.ca-log-box-expand {
    flex: 1 1 0;
    max-height: none;
    overflow-y: auto;
}

/* Subsection styling within received messages box */
.ca-log-subsection-header {
    font-size: 11px;
    font-weight: 700;
    color: #93c5fd;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    padding: 4px 0 2px 0;
    margin-top: 0;
    flex-shrink: 0;
}

.ca-log-divider {
    height: 1px;
    background: #334155;
    margin: 0;
    border: 0;
    flex-shrink: 0;
}

/* Fixed layout for subsections - unreplied at top, replied at bottom */
#ca-log-box-received {
    display: flex !important;
    flex-direction: column !important;
    padding: 0 !important;
}

/* Not replied section - top half */
.ca-log-subsection-unreplied-wrapper {
    flex: 1 1 50%;
    display: flex;
    flex-direction: column;
    padding: 8px;
    border-bottom: 1px solid #334155;
}

/* Replied section - bottom half */
.ca-log-subsection-replied-wrapper {
    flex: 1 1 50%;
    display: flex;
    flex-direction: column;
    padding: 8px;
}

#ca-log-received-unreplied,
#ca-log-received-replied {
    flex: 1 1 0;
    overflow-y: auto;
    overflow-x: hidden;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

/* ========================================
 * Custom Scrollbar Styling for Website
 * ======================================== */

/* Standard scrollbar properties (Firefox) */
* {
    scrollbar-width: thin;
    scrollbar-color: #fff rgba(255, 255, 255, 0.1);
}

/* Webkit browsers (Chrome, Safari, Edge) */
*::-webkit-scrollbar {
    width: 5px;
    height: 5px;
}

*::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
}

*::-webkit-scrollbar-thumb {
    background-color: #fff;
    border-radius: 10px;
    border: none;
}

*::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.9);
}

*::-webkit-scrollbar-corner {
    background: rgba(255, 255, 255, 0.1);
}

/* ========================================
 * Log Box Scrollbar Visibility
 * ======================================== */

/* Ensure log boxes show scrollbars */
.ca-log-box,
.ca-log-box-sent,
.ca-log-box-received,
.ca-log-box-presence,
#ca-log-box-sent,
#ca-log-box-received,
#ca-log-box-presence,
#ca-log-box-other { /* NEW */
    overflow-y: auto !important;
    overflow-x: hidden !important;
}


/* Presence log box within fixed-height section - show exactly 5 lines */
.ca-log-section .ca-log-box {
    overflow-y: auto !important;
    overflow-x: hidden !important;
}

.ca-log-entry {
    display: flex;
    align-items: center;
    gap: 8px;
}

.ca-log-ts {
    font-variant-numeric: tabular-nums;
    font-weight: 600;
    color: #93c5fd;
    min-width: 38px;
}

.ca-log-dot {
    font-size: 12px; /* tweak for your layout */
    line-height: 1;
    min-width: 10px;
}

.ca-log-user {
    flex: 0 0 125px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.ca-log-text {
    color: #e5e7eb;
    flex: 1;
    word-break: break-word;
    cursor: pointer;
}

.ca-log-entry strong {
    font-weight: 700;
}

/* Collapsible sent message text - one line by default */
.ca-log-send-ok .ca-log-text,
.ca-log-send-fail .ca-log-text {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    cursor: pointer;
    transition: all 0.2s;
}

/* Expanded state - show full message */
.ca-log-send-ok.ca-expanded .ca-log-text,
.ca-log-send-fail.ca-expanded .ca-log-text {
    -webkit-line-clamp: unset;
    overflow: visible;
}

/* Expand/collapse indicator */
.ca-expand-indicator {
    flex-shrink: 0;
    width: 16px;
    height: 16px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 3px;
    background: rgba(147, 197, 253, 0.2);
    color: #93c5fd;
    font-size: 10px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    user-select: none;
}

.ca-expand-indicator:hover {
    background: rgba(147, 197, 253, 0.4);
    color: #ffffff;
}

.ca-expanded .ca-expand-indicator {
    background: rgba(147, 197, 253, 0.3);
}

/* Style images (emoticons) in log entries */
.ca-log-text img {
    max-height: 20px;
    max-width: 20px;
    vertical-align: middle;
    display: inline-block;
}

/* Replied indicator for received messages - clickable to open chat */
.ca-replied-mark {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    border-radius: 4px;
    background: rgba(34, 197, 94, 0.2);
    color: #22c55e;
    font-size: 11px;
    font-weight: 700;
    flex-shrink: 0;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.2s;
}

.ca-replied-mark:hover {
    background: rgba(34, 197, 94, 0.4);
    color: #ffffff;
    text-decoration: none;
}

/* Color coding */
.ca-log-dot-green {
    color: #15e315
}

/* green */
.ca-log-dot-red {
    color: #dd1212
}

/* green */
.ca-log-dot-gray {
    color: #818183;
}

/* blue */

/* Badge for broadcast entries */
.ca-badge-bc {
    display: inline-block;
    margin-left: 6px;
    padding: 1px 6px;
    border-radius: 9999px;
    background: #1e3a8a;
    color: #bfdbfe;
    font-size: 11px;
    font-weight: 700;
}

/* Visibility toggles */
.ca-log-box.ca-hide-presence .ca-log-login,
.ca-log-box.ca-hide-presence .ca-log-logout {
    display: none !important;
}

.ca-log-box.ca-hide-messages .ca-log-send-ok,
.ca-log-box.ca-hide-messages .ca-log-send-fail {
    display: none !important;
}

/* === End of existing styles === */

/* Private notifications list */
.ca-priv-list {
    display: flex;
    flex-direction: column;
    gap: 4px;
    max-height: 200px;
    overflow-y: auto;
}

.ca-priv-empty {
    padding: 8px;
    text-align: center;
    color: #999;
    font-size: 13px;
}

.ca-priv-row {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 8px;
    border-radius: 4px;
    background: #f5f5f5;
    transition: background 0.2s;
}

.ca-priv-row:hover {
    background: #e8e8e8;
}

.ca-priv-row.ca-priv-unread {
    background: #fff3cd;
    font-weight: 600;
}

.ca-priv-row.ca-priv-unread:hover {
    background: #ffe8a1;
}

.ca-priv-name {
    flex: 1;
    color: #333;
    text-decoration: none;
    font-size: 14px;
}

.ca-priv-name:hover {
    text-decoration: underline;
}

.ca-priv-badge {
    background: #ff5722;
    color: white;
    font-size: 11px;
    padding: 2px 6px;
    border-radius: 10px;
    font-weight: bold;
    min-width: 18px;
    text-align: center;
}

.ca-priv-mark-read {
    color: #999;
    text-decoration: none;
    font-size: 16px;
    line-height: 1;
    padding: 2px 6px;
    border-radius: 3px;
    transition: all 0.2s;
    margin-left: auto;
}

.ca-priv-mark-read:hover {
    color: #f44336;
    background: #ffebee;
}

/* Header placement for log controls */
.ca-log-controls-header {
    margin-left: auto;
    display: flex;
    gap: 10px;
    align-items: center;
}

@media (max-width: 640px) {
    .ca-log-controls-header .ca-log-ctl {
        font-size: 11px;
    }

    .ca-log-controls-header .ca-btn-xs {
        padding: 3px 7px;
        font-size: 11px;
    }
}


/* === Specific modal & UI tweaks (added by ChatGPT on 2025-10-26) === */
.ca-nav-btn-secondary {
    padding: 6px 10px;
    border-radius: 8px;
    border: 1px solid #334155;
    background: #0f172a;
    color: #e5e7eb;
    font-weight: 600;
    cursor: pointer;
}

.ca-nav-btn-secondary:hover {
    background: #111827;
}

/* Ensure popups are hidden by default but show when JS sets display:block */
.ca-pop {
    display: none;
}

/* Use the same first-line height as your log text */
.ca-log-box {
    --ca-firstline: 1.35em;
}

/* matches your 12px / 1.35 line-height */

/* Row: top-align so the first line of text sits at the top */
.ca-log-entry {
    align-items: flex-start !important; /* override earlier center rule */
}

.ca-log-entry a {
    text-decoration: none;
    color: white;
    font-weight: 900;
}

/* Cell wrappers:
   - sit at the top of the row (so their top aligns with the text’s first line)
   - have a min height equal to one line
   - center their inner content vertically within that first-line band
*/
.ca-log-cell {
    align-self: flex-start; /* anchor to top of row */
    display: flex;
    align-items: center; /* center inner content vertically */
    min-height: var(--ca-firstline); /* only one line tall */
}

.ca-log-actions {
    padding-left: 10px;
}

.ca-log-action {
    text-decoration: none;
}

.ca-log-action svg {
    width: 16px;
    height: 16px;
    vertical-align: middle;
    stroke: #51b9a6;
    transition: color 0.2s ease, stroke 0.2s ease;
    cursor: pointer;
}

.ca-log-action.ca-log-action-filled svg {
    fill: #51b9a6;
}

.ca-log-action:hover {
    color: #f87171; /* soft red on hover */
    text-decoration: none;
}


/*#private_center #private_box .pcontent {*/
/*    height: calc(100% - 85px) !important;*/
/*}*/

/* === Menu-side mini panel ======================================== */
.ca-panel.ca-mini {
    width: 100%;
}

.show_menu.footer_item.menutrig, #my_menu .head_option {
    display: none;
}

/* Put Presence and Other logs next to each other */
.ca-log-dual {
    display: flex;
    gap: 12px;
    align-items: start;
    height: 200px;
}

.ca-log-dual .ca-section {
    height: 100%;
    padding-top: 10px;
    padding-bottom: 20px;
    padding-left: 20px;
    padding-right: 20px;
    flex: 1 1 0; /* equal width growth and shrink */
}

/* Slightly tighter section spacing works well inside bcell_mid */
.ca-section.ca-section-compact {
    margin-top: 8px;
}

/* Bottom row: checkbox subrow */
.ca-user-list-header .ca-subrow {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    opacity: 0.9;
    margin-top: 2px;
}

.ca-user-list-header .ca-subrow label {
    display: flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
    user-select: none;
}

.ca-user-list-header .ca-subrow input[type="checkbox"] {
    transform: scale(0.85);
}


/* --- Managed wrapper: hide per-user checkboxes by default --- */
.ca-user-list-container .ca-ck-wrap {
    display: none !important; /* hidden until header toggle is ON */
    position: static !important; /* override earlier absolute positioning */
    right: auto !important;
    top: auto !important;
    margin-right: 6px; /* small gap before username */
    pointer-events: auto; /* clickable */
}

/* When header toggle turns ON, show the checkboxes */
.ca-user-list-container.ca-show-ck .ca-ck-wrap {
    display: inline-flex !important;
}

/* Small, neat checkbox */
.ca-user-list-container .ca-ck-wrap .ca-ck {
    width: 12px;
    height: 12px;
}


/* Make sure the username doesn't get pushed oddly */
.ca-user-list-container .user_item_data .username {
    margin: 0; /* prevent unexpected line breaks/offsets */
}

#my_menu, #ca-menu-panel, #warp_show_chat, #container_chat, #wrap_chat, #chat_center, #chat_left, #chat_right, #private_content {
    height: 100% !important;
}

#show_private {
    bottom: unset;
    position: relative;
}

#private_center, #private_menu {
    display: flex;
    flex-direction: column;
    position: relative;
    top: 0;
}

#private_menu.float_menu {
    margin: 0;
}

#private_center.pboxed, #private_center.pboxed .pcontent {
    position: unset;
    width: 100%;
    height: 100% !important;
    max-height: 100%;
    overflow-y: auto;
}

#private_box {
    display: flex;
    flex-direction: column;
    height: 100%;
}

#message_content {
    margin-top: auto;
    field-sizing: content;
    min-height: 40px;
    padding: 3px;
}

.ca-btn-icon {
    padding: 0 4px;
    line-height: 1;
    font-size: 11px;
    cursor: pointer;
}

#ca-predefined-messages-list {
    list-style: none;
    padding: 0;
    margin: 6px 0 0;
    max-height: 600px;
    overflow: auto;
}

/* Wrapper for each predefined item */
.ca-predefined-messages-item {
    display: flex;
    flex-direction: column;
    gap: 2px;
    padding: 10px 0;
    border-bottom: 1px solid #eee;
}

/* Title row: subject + edit/delete buttons */
.ca-predefined-messages-title-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 4px;
}

/* Tiny icon buttons for edit/delete */
.ca-predefined-messages-edit,
.ca-predefined-messages-delete {
    padding: 2px 5px;
    font-size: 12px;
    line-height: 1;
    min-width: 0;
    cursor: pointer;
    border: none;
    background: transparent;
    color: #e5e7eb;
}

.ca-predefined-messages-edit:hover {
    color: #60a5fa; /* soft blue */
}

.ca-predefined-messages-delete:hover {
    color: #f87171; /* soft red */
}

/* Buttons row stays right-aligned */
.ca-predefined-messages-actions {
    display: flex;
    gap: 4px;
    margin-left: auto;
}

/* Generic small action links for predefined manager rows */
.ca-predefined-messages-link {
    font-size: 11px;
    color: #60a5fa; /* Tailwind-style soft blue */
    text-decoration: none;
    margin-left: 6px;
    cursor: pointer;
}

.ca-predefined-messages-link:hover {
    text-decoration: underline;
}

/* Optional: make delete red-ish */
.ca-predefined-messages-delete {
    color: #f87171; /* soft red */
}

.ca-predefined-messages-delete:hover {
    text-decoration: underline;
}


/* Button row container */
.ca-predefined-messages-actions {
    display: flex;
    gap: 4px;
}

/* Preview text */
.ca-predefined-messages-preview {
    font-size: 11px;
    color: #666;
}

#ca-predefined-messages-select {
    list-style: none;
    padding: 0;
    margin: 6px 0 0;
}

.ca-predefined-messages-select {
    background: linear-gradient(#192231, #0e1420);
    color: #e5e7eb;
    border: 1px solid #374151;
    max-width: 220px;
    font-size: 11px;
    padding: 1px 3px;
}

.ca-predefined-messages-select option {
    background: #192231;
    color: #e5e7eb;
}

/* Top predefined bar */
.ca-predefined-messages-bar {
    padding: 3px 6px;
    font-size: 11px;
}

.ca-predefined-messages-bar-inner {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 4px;
}

/* Actions glued to the right */
.ca-predefined-messages-bar-actions {
    display: flex;
    gap: 2px;
}

/* Generic tiny button style */
.ca-btn-icon {
    padding: 1px 5px;
    font-size: 11px;
    line-height: 1.2;
    min-width: auto;
}

/* If ca-btn-slim exists and is too large, tighten it here */
.ca-btn-slim {
    padding: 2px 6px;
    font-size: 11px;
}

#wrap_footer {
    position: relative;
    bottom: inherit;
    left: inherit;
    margin-top: 10px;
}

#global_chat {
    display: flex;
    flex-grow: 1;
    height: auto !important;
}

#wrap_chat {
    display: flex;
    flex-direction: column;
}

#chat_toping {
    display: none;
}

#main_wrapper {
    display: flex;
    flex-direction: column;
    height: 100%;
}

#rlist_open {
    margin-left: auto;
}

/* Right panel: reserve fixed-ish space */
#chat_right {
    min-width: 300px;
}

#private_center, #private_menu {
    min-width: 360px;
}

#chat_right {
    display: flex !important;
    flex-direction: column;
}

/* If the user list inside right needs explicit flex */
#chat_right_data {
    flex: 1 1 auto; /* matches your intent */
    overflow: unset;
    overflow-y: unset;
}

#message_form {
    height: unset;
}

#ca-managed-chat-right-data {
    min-height: 0; /* required for grid too */
}

#ca-managed-wrapper, #ca-host-users-wrapper {
    overflow-y: auto;
    flex-grow: 1;
}

/* Per-section clear buttons (generic) */
.ca-section-title {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
}

.ca-section-title .clear-logs {
    font-size: 12px;
    opacity: 0.85;
    cursor: pointer;
    user-select: none;
}

.ca-section-title .clear-logs:hover {
    opacity: 1;
    text-decoration: underline;
}
